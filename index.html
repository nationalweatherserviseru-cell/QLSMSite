<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qullysuim Community</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1e1e1e 0%, #2a2a2a 50%, #1a1a1a 100%);
            color: #f0f0f0;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        header h1 {
            color: #fff;
            text-shadow: 0 0 5px #7289da;
            font-size: 2.5em;
        }

        .main-nav {
            display: flex;
            gap: 20px;
            background: rgba(0, 0, 0, 0.5);
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #444;
            flex-wrap: wrap;
        }

        .main-nav a {
            color: #fff;
            text-decoration: none;
            font-size: 18px;
            padding: 8px 16px;
            border-radius: 5px;
            transition: 0.3s;
            cursor: pointer;
        }

        .main-nav a:hover {
            background: #5865f2;
        }

        .main-nav a.active {
            background: #5865f2;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #2a2a2a;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.7);
            z-index: 1;
            border-radius: 5px;
            border: 1px solid #444;
        }

        .dropdown-content a {
            color: white;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            border-bottom: 1px solid #3a3a3a;
            cursor: pointer;
        }

        .dropdown-content a:hover {
            background-color: #5865f2;
        }

        .dropdown-content a.disabled-link {
            color: #888;
            pointer-events: none;
            background-color: #222;
            cursor: not-allowed;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .main-content {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        .left-column {
            flex: 1;
            min-width: 300px;
        }

        .right-column {
            flex: 1;
            min-width: 300px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid #444;
        }

        .description {
            background: rgba(0,0,0,0.5);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 5px solid #7289da;
        }

        .description h2 {
            color: #fff;
            margin-bottom: 10px;
        }

        .description p {
            color: #ccc;
            line-height: 1.6;
        }

        .widget iframe {
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            width: 100%;
            max-width: 350px;
            height: 500px;
        }

        .rules-section {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #444;
        }

        .rules-section h2 {
            color: #5865f2;
            margin-bottom: 20px;
            border-bottom: 1px solid #444;
            padding-bottom: 10px;
        }

        .rules-section h3 {
            color: #fff;
            margin: 20px 0 10px 0;
        }

        .rules-section ul {
            list-style: none;
            padding-left: 0;
        }

        .rules-section li {
            padding: 8px 0;
            border-bottom: 1px solid #333;
            color: #ccc;
            line-height: 1.5;
        }

        .rules-section li:before {
            content: "•";
            color: #5865f2;
            font-weight: bold;
            display: inline-block;
            width: 20px;
        }

        .warning-red {
            color: #ff4444;
            font-weight: bold;
            text-align: center;
            padding: 20px;
            margin-top: 20px;
            border: 2px solid #ff4444;
            border-radius: 10px;
            background: rgba(255, 68, 68, 0.1);
        }

        form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 600px;
        }

        form h2 {
            color: #fff;
            margin-bottom: 10px;
        }

        form input, form textarea {
            padding: 12px;
            background: #333;
            border: 1px solid #555;
            color: white;
            border-radius: 5px;
            font-size: 14px;
        }

        form input[type="file"] {
            padding: 10px;
            background: #333;
            border: 1px dashed #7289da;
            cursor: pointer;
        }

        form input[type="file"]::file-selector-button {
            background: #5865f2;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            margin-right: 15px;
            cursor: pointer;
        }

        form input:focus, form textarea:focus {
            outline: none;
            border-color: #5865f2;
        }

        form label {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #ccc;
            cursor: pointer;
        }

        form button {
            padding: 12px;
            background: #5865f2;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: 0.3s;
        }

        form button:hover {
            background: #4752c4;
        }

        form button:disabled {
            background: #444;
            cursor: not-allowed;
        }

        .file-info {
            font-size: 12px;
            color: #aaa;
            margin-top: -5px;
        }

        .cooldown-warning {
            background: #ffaa0022;
            border: 1px solid #ffaa00;
            color: #ffaa00;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            font-size: 14px;
            margin: 10px 0;
        }

        .success-message {
            background: #00aa0022;
            border: 1px solid #00ff00;
            color: #aaffaa;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            margin-bottom: 10px;
        }

        .error-message {
            background: #aa000022;
            border: 1px solid #ff0000;
            color: #ffaaaa;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            margin-bottom: 10px;
        }

        /* Стили для страницы услуг (только добавленные, ничего лишнего не меняем) */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .service-card {
            background: rgba(20, 20, 30, 0.8);
            backdrop-filter: blur(5px);
            border: 1px solid #444;
            border-radius: 16px;
            padding: 20px 15px;
            text-align: center;
            transition: 0.2s;
            box-shadow: 0 8px 20px rgba(0,0,0,0.5);
        }

        .service-card:hover {
            border-color: #7289da;
            transform: translateY(-4px);
        }

        .vip-badge {
            background: #ffd966;
            color: #1a1a1a;
            font-weight: 800;
            font-size: 14px;
            padding: 4px 12px;
            border-radius: 30px;
            display: inline-block;
            margin-bottom: 12px;
            letter-spacing: 1px;
        }

        .price {
            font-size: 36px;
            font-weight: 800;
            color: #fff;
            margin: 10px 0;
        }

        .price small {
            font-size: 16px;
            font-weight: 400;
            color: #aaa;
        }

        .features-list {
            list-style: none;
            margin: 20px 0;
            text-align: left;
            padding-left: 10px;
        }

        .features-list li {
            padding: 6px 0;
            color: #ccc;
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .features-list li::before {
            content: "✅";
            color: #2ecc71;
            font-size: 14px;
        }

        .buy-btn {
            background: #5865f2;
            border: none;
            color: white;
            font-weight: bold;
            font-size: 18px;
            padding: 12px 20px;
            border-radius: 40px;
            width: 100%;
            cursor: pointer;
            transition: 0.2s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .buy-btn:hover {
            background: #4752c4;
        }

        .empty-card {
            background: rgba(20, 20, 30, 0.4);
            border: 2px dashed #3a3a3a;
            border-radius: 16px;
            padding: 30px 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 18px;
            min-height: 280px;
            backdrop-filter: blur(4px);
        }

        .services-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header-top">
            <h1>Qullysuim Community</h1>
        </div>

        <div class="main-nav">
            <a onclick="showPage('home')">Главная</a>
            <a onclick="showPage('complaint-page')">Жалоба</a>
            <a onclick="showPage('rules-page')">Правила</a>
            <!-- Добавлена новая вкладка Услуги -->
            <a onclick="showPage('services-page')">Услуги</a>
            <div class="dropdown" style="margin-left: auto;">
                <a class="dropbtn">Заявки ▼</a>
                <div class="dropdown-content">
                    <a onclick="showPage('admin-form-page')">Администрация</a>
                    <a class="disabled-link">Разработчики (Набор закрыт)</a>
                </div>
            </div>
        </div>

        <!-- Главная страница -->
        <div id="home" class="page">
            <div class="main-content">
                <div class="left-column">
                    <div class="description">
                        <h2>Qullysuim — Сервер для общения и дружбы.</h2>
                        <p>Позитивное, открытое и дружелюбное комьюнити без токсичности. Найди единомышленников для разговоров, игр и совместного досуга. Мы ждем именно тебя! Начни знакомство прямо сейчас.</p>
                    </div>
                    <div class="widget">
                        <iframe src="https://discord.com/widget?id=1455582068695109777&theme=dark" width="350" height="500" allowtransparency="true" frameborder="0" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe>
                    </div>
                </div>
                <div class="right-column">
                    <h3>Добро пожаловать!</h3>
                    <p>Используйте меню сверху для навигации по сайту.</p>
                </div>
            </div>
        </div>

        <!-- Страница жалобы -->
        <div id="complaint-page" class="page">
            <h2>Подать жалобу на участника</h2>
            <form id="complaintForm">
                <input type="text" id="offender-name" placeholder="Ник нарушителя" required>
                <textarea id="violation-desc" placeholder="Что он нарушил?" rows="3" required></textarea>
                <input type="file" id="proof-file" accept="image/*,.pdf,.txt,.doc,.docx">
                <div class="file-info">Максимальный размер файла: 8 МБ</div>
                <div id="complaintWarning" class="cooldown-warning" style="display: none;"></div>
                <button type="submit" id="complaintSubmit">Отправить жалобу</button>
            </form>
        </div>

        <!-- Страница правил -->
        <div id="rules-page" class="page">
            <div class="rules-section">
                <h2>Основные правила Discord сервера</h2>
                
                <h3>1. Общие правила</h3>
                <ul>
                    <li>1.1 Запрещена ненормативная лексика. Мат разрешен в неоскорбительном для других пользователей контексте. Однако злоупотребление матом наказывается (Запрещается использование нецензурных слов в профиле — в никах/аватарах)</li>
                    <li>1.2 Запрещено писать бессмысленную или малосодержательную информацию, не несущую смысловой нагрузки (флудить).</li>
                    <li>1.3 Запрещено флудить смайликами. (Эмодзи)</li>
                    <li>1.4 Запрещено писать сообщения сплошными заглавными буквами, сплошным жирным шрифтом, курсивом, подчеркнутым шрифтом. При этом сообщение считается нарушающим данное правило, если такого рода текстом набрано более трети всего сообщения.</li>
                    <li>1.5 Запрещено обсуждать действия администрации.</li>
                    <li>1.6 Запрещается размещение сообщений, написанных транслитом, то есть русский текст должен быть написан кириллицей, а не латинскими буквами. Если у вас нет возможности писать кириллицей, пользуйтесь переводчиком транслита, прежде чем разместить сообщение на нашем Discord-сервере.</li>
                    <li>1.7 Сообщения на коверканном языке, чрезмерное использование сленга, жаргонизмов запрещено.</li>
                    <li>1.8 Запрещается публикация материалов грубого, насильственного характера, жестокости, призывы к таковым, сообщения экстремистского толка.</li>
                    <li>1.9 Запрещается оскорблять других пользователей и администрации канала — будь то прямым или косвенным образом. Оскорбление остается нарушением, даже если оно скрыто под сарказмом или косвенной инсинуацией.</li>
                    <li>1.10 Запрещается дискриминация по любому признаку — расовому, национальному, гражданскому, половому, религиозному, возрастному, по инвалидности, роду занятий или сексуальной ориентации.</li>
                    <li>1.11 Запрещается оскорбление чувств верующих, высмеивание религиозных убеждений, религиозных символов и святынь.</li>
                    <li>1.12 Запрещается разжигание межрелигиозной розни и вражды.</li>
                    <li>1.13 Запрещается употребление уничижительных определений различных национальностей, народов и групп, таких как "пиндосы", "хохлы", "москали" и пр.</li>
                    <li>1.14 Запрещается цитировать личную переписку из привата или других средств общения одних участников форума с другими без явного согласия обеих сторон.</li>
                    <li>1.15 Запрещается разглашение чьей бы то ни было персональной информации. Это относится как к собственным данным, так и полученным от других пользователей посредством приватной части форума и прочих средств коммуникации (например, такой как адреса, телефоны, email, финансовых данных, перепост личных фото форумчан, профилей в соцсетях и пр.).</li>
                    <li>1.16 Запрещается обсуждение и публичное осуждение действий представителей Команды — админов и модераторов. Если вы уверены, что модератор превышает свои полномочия, обратитесь к администратору.</li>
                    <li>1.17 Запрещена публикация сообщений, призывающих к суициду.</li>
                    <li>1.18 Запрещено использования клавиши Caps Lock без необходимости.</li>
                    <li>1.19 Запрещено переводить музыкального бота в другие каналы</li>
                </ul>

                <h3>2. Ники</h3>
                <ul>
                    <li>2.1 Запрещены ники не носящие какого-либо смысла и нечитабельные ники (Пример: "asd", "123", "sfkwerqeq1" и т. д.).</li>
                    <li>2.2 Запрещены ники, которые тем или иным образом могут оскорбить другого человека.</li>
                    <li>2.3 Запрещены ники содержащие ненормативную лексику.</li>
                    <li>2.4 Запрещается использовать в никах адреса веб–сайтов, адреса email и прочую контактную информацию.</li>
                    <li>2.5 Запрещено использование визуально похожего двойника уже существующий ник.</li>
                </ul>

                <h3>3. Бан</h3>
                <ul>
                    <li>3.1 Рецедив нарушений (бан сутки).</li>
                    <li>3.2 Накрутка уровня карается обнулением уровня. (При повторных действиях - бан)</li>
                </ul>

                <h3>Информация</h3>
                <ul>
                    <li>Администрация проекта в праве в любой момент, без объяснения причин, прекратить предоставление доступа к серверу конкретному пользователю или подсети в целом.</li>
                    <li>Администрация проекта в праве в любой момент, без предупреждения, изменить текущие правила.</li>
                    <li>При осознании вины в нарушениях правил, игрок может быть разбанен (на усмотрение администрации проекта).</li>
                    <li>Ваш компьютер и вы отвечаете за нарушения. Нас не интересует, нарушил ли Ваш друг/брат/мама/папа/кот правила для всех одни.</li>
                    <li>Так же мы придерживаемся Discord TOS.</li>
                </ul>

                <div class="warning-red">
                    Администрация решает сама какое наказание выдать
                </div>
            </div>
        </div>

        <!-- Новая страница Услуги (VIP + 9 пустых слотов) -->
        <div id="services-page" class="page">
            <div class="services-header">
                <h2>Наши услуги</h2>
            </div>
            <div class="services-grid">
                <!-- VIP карточка (в точности как на изображении) -->
                <div class="service-card">
                    <div class="vip-badge">VIP</div>
                    <div class="price">29 ₽ <small>/ в месяц</small></div>
                    <ul class="features-list">
                        <li>Кастомная роль</li>
                        <li>Создание приватных веток</li>
                        <li>Уникальная роль</li>
                        <li>Реакции под сообщениями</li>
                        <li>Возможности 10 уровня</li>
                    </ul>
                    <button class="buy-btn" onclick="window.open('https://boosty.to/qlsm', '_blank')">Купить VIP</button>
                </div>
                <!-- Ещё 9 пустых заглушек (место для будущих товаров) -->
                <div class="empty-card">Скоро появится</div>
                <div class="empty-card">Скоро появится</div>
                <div class="empty-card">Скоро появится</div>
                <div class="empty-card">Скоро появится</div>
                <div class="empty-card">Скоро появится</div>
                <div class="empty-card">Скоро появится</div>
                <div class="empty-card">Скоро появится</div>
                <div class="empty-card">Скоро появится</div>
                <div class="empty-card">Скоро появится</div>
            </div>
        </div>

        <!-- Страница анкеты администрации -->
        <div id="admin-form-page" class="page">
            <h2>Анкета в Администрацию</h2>
            <form id="adminForm">
                <input type="text" id="admin-discord" placeholder="Ваш ник в Discord" required>
                <input type="number" id="admin-age" placeholder="Сколько вам лет?" required>
                <input type="text" id="admin-how" placeholder="Как узнали о сервере?" required>
                <input type="text" id="admin-tg" placeholder="Ваш Telegram юзернейм" required>
                <input type="url" id="admin-vk" placeholder="Ваш VK (ссылка)" required>
                <input type="text" id="admin-rank" placeholder="Ваш ранг (/rank в корзине)" required>
                <textarea id="admin-bans" placeholder="Были ли блокировки? Если да, то какие?" rows="2"></textarea>
                <label>
                    <input type="checkbox" id="admin-call"> Готовы пройти обзвон?
                </label>
                <label>
                    <input type="checkbox" id="admin-mic"> Есть микрофон?
                </label>
                <div id="adminWarning" class="cooldown-warning" style="display: none;"></div>
                <button type="submit" id="adminSubmit">Отправить анкету</button>
            </form>
        </div>
    </div>

    <script>
        // Настройки кулдаунов
        const COMPLAINT_COOLDOWN = 60 * 60 * 1000; // 1 час
        const ADMIN_COOLDOWN = 24 * 60 * 60 * 1000; // 1 день
        const MAX_FILE_SIZE = 8 * 1024 * 1024; // 8 МБ

        // Функция проверки кулдауна
        function checkCooldown(type) {
            const lastSubmit = localStorage.getItem(`last_${type}_submit`);
            if (!lastSubmit) return { canSubmit: true, timeLeft: 0 };
            
            const timePassed = Date.now() - parseInt(lastSubmit);
            let cooldownTime;
            
            if (type === 'complaint') cooldownTime = COMPLAINT_COOLDOWN;
            else if (type === 'admin') cooldownTime = ADMIN_COOLDOWN;
            
            if (timePassed < cooldownTime) {
                const timeLeft = cooldownTime - timePassed;
                return { canSubmit: false, timeLeft: timeLeft };
            }
            return { canSubmit: true, timeLeft: 0 };
        }

        // Форматирование времени
        function formatTimeLeft(ms, type) {
            if (type === 'complaint') {
                const minutes = Math.floor(ms / 60000);
                const seconds = Math.floor((ms % 60000) / 1000);
                return `${minutes} минут ${seconds} секунд`;
            } else {
                const hours = Math.floor(ms / 3600000);
                const minutes = Math.floor((ms % 3600000) / 60000);
                return `${hours} часов ${minutes} минут`;
            }
        }

        // Обновление предупреждений
        function updateWarnings() {
            const complaintStatus = checkCooldown('complaint');
            const adminStatus = checkCooldown('admin');
            
            const complaintWarning = document.getElementById('complaintWarning');
            const adminWarning = document.getElementById('adminWarning');
            const complaintBtn = document.getElementById('complaintSubmit');
            const adminBtn = document.getElementById('adminSubmit');

            if (!complaintStatus.canSubmit) {
                const timeLeft = formatTimeLeft(complaintStatus.timeLeft, 'complaint');
                complaintWarning.textContent = `Вы уже отправляли жалобу. Следующую можно отправить через ${timeLeft}`;
                complaintWarning.style.display = 'block';
                complaintBtn.disabled = true;
            } else {
                complaintWarning.style.display = 'none';
                complaintBtn.disabled = false;
            }

            if (!adminStatus.canSubmit) {
                const timeLeft = formatTimeLeft(adminStatus.timeLeft, 'admin');
                adminWarning.textContent = `Вы уже отправляли анкету. Следующую можно отправить через ${timeLeft}`;
                adminWarning.style.display = 'block';
                adminBtn.disabled = true;
            } else {
                adminWarning.style.display = 'none';
                adminBtn.disabled = false;
            }
        }

        // Показ сообщения
        function showMessage(text, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = type === 'success' ? 'success-message' : 'error-message';
            messageDiv.textContent = text;
            
            const activePage = document.querySelector('.page.active');
            activePage.insertBefore(messageDiv, activePage.firstChild);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 5000);
        }

        // Переключение страниц
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.querySelectorAll('.main-nav a').forEach(link => {
                link.classList.remove('active');
            });
            
            document.getElementById(pageId).classList.add('active');
            
            const activeLink = Array.from(document.querySelectorAll('.main-nav a')).find(
                link => link.getAttribute('onclick')?.includes(pageId)
            );
            if (activeLink) {
                activeLink.classList.add('active');
            }
            
            updateWarnings();
        }

        // Отправка жалобы
        async function submitComplaint(content, file) {
            try {
                const formData = new FormData();
                formData.append('content', content);
                
                if (file) {
                    formData.append('file', file);
                }
                
                const response = await fetch('/api/send-complaint', {
                    method: 'POST',
                    body: formData
                });
                
                const data = await response.json();
                return data.success;
            } catch (error) {
                return false;
            }
        }

        // Отправка анкеты
        async function submitAdmin(content) {
            try {
                const formData = new FormData();
                formData.append('content', content);
                
                const response = await fetch('/api/send-admin', {
                    method: 'POST',
                    body: formData
                });
                
                const data = await response.json();
                return data.success;
            } catch (error) {
                return false;
            }
        }

        // Обработчики событий
        document.addEventListener('DOMContentLoaded', function() {
            setInterval(updateWarnings, 1000);
            
            // Устанавливаем главную страницу активной по умолчанию
            showPage('home');
            
            // Обработчик жалобы
            document.getElementById('complaintForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const status = checkCooldown('complaint');
                if (!status.canSubmit) return;
                
                const submitButton = document.getElementById('complaintSubmit');
                submitButton.disabled = true;
                submitButton.textContent = 'Отправка...';
                
                const offenderName = document.getElementById('offender-name').value;
                const violationDesc = document.getElementById('violation-desc').value;
                const proofFile = document.getElementById('proof-file').files[0];
                
                if (proofFile && proofFile.size > MAX_FILE_SIZE) {
                    showMessage('Файл слишком большой. Максимальный размер 8 МБ', 'error');
                    submitButton.disabled = false;
                    submitButton.textContent = 'Отправить жалобу';
                    return;
                }
                
                const content = `**Новая жалоба**\n**Нарушитель:** ${offenderName}\n**Нарушение:** ${violationDesc}`;
                
                const success = await submitComplaint(content, proofFile);
                
                if (success) {
                    localStorage.setItem('last_complaint_submit', Date.now().toString());
                    showMessage('Жалоба успешно отправлена', 'success');
                    this.reset();
                } else {
                    showMessage('Ошибка при отправке. Попробуйте позже.', 'error');
                }
                
                submitButton.disabled = false;
                submitButton.textContent = 'Отправить жалобу';
                updateWarnings();
            });
            
            // Обработчик анкеты администрации
            document.getElementById('adminForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const status = checkCooldown('admin');
                if (!status.canSubmit) return;
                
                const submitButton = document.getElementById('adminSubmit');
                submitButton.disabled = true;
                submitButton.textContent = 'Отправка...';
                
                const discordNick = document.getElementById('admin-discord').value;
                const age = document.getElementById('admin-age').value;
                const how = document.getElementById('admin-how').value;
                const tg = document.getElementById('admin-tg').value;
                const vk = document.getElementById('admin-vk').value;
                const rank = document.getElementById('admin-rank').value;
                const bans = document.getElementById('admin-bans').value;
                const call = document.getElementById('admin-call').checked ? 'Да' : 'Нет';
                const mic = document.getElementById('admin-mic').checked ? 'Да' : 'Нет';
                
                const content = `**Новая анкета в Администрацию**\n**Discord ник:** ${discordNick}\n**Возраст:** ${age}\n**Как узнал:** ${how}\n**Telegram:** ${tg}\n**VK:** ${vk}\n**Ранг:** ${rank}\n**Блокировки:** ${bans || 'Нет'}\n**Готов к обзвону:** ${call}\n**Микрофон:** ${mic}`;
                
                const success = await submitAdmin(content);
                
                if (success) {
                    localStorage.setItem('last_admin_submit', Date.now().toString());
                    showMessage('Анкета успешно отправлена', 'success');
                    this.reset();
                } else {
                    showMessage('Ошибка при отправке. Попробуйте позже.', 'error');
                }
                
                submitButton.disabled = false;
                submitButton.textContent = 'Отправить анкету';
                updateWarnings();
            });
            
            updateWarnings();
        });
    </script>
</body>
</html>
